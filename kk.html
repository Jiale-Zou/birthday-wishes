<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”Ÿæ—¥å¿«ä¹ç¥ç¦</title>
    <link rel="stylesheet" href="style/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Pacifico&display=swap" rel="stylesheet">
</head>

<body>
    <!-- éŸ³ä¹æ’­æ”¾æŒ‰é’® -->
    <button class="play-pause" id="playPauseButton"></button>

    <!-- å¼€å§‹æŒ‰é’® -->
    <button class="start-button" id="startButton">å‡†å¤‡å¥½äº†ï¼Œæˆ‘ä»¬å¼€å§‹å§ï¼</button>

    <div class="containers">
        <h1 class="birthday-title">Happy Birthday</h1>

        <div class="message">
            æ„¿ä½ ä¸€ç”Ÿæ¸©æš–çº¯è‰¯ï¼Œä¸èˆçˆ±ä¸è‡ªç”±ï¼›<br>
            æ„¿ä½ ä¸€ç”Ÿå¹³å®‰å–œä¹ï¼Œçš†èƒ½å¾—å¿æ‰€æ„¿~
        </div>

        <!-- ç‚¹å‡»è®¸æ„¿åå¼¹å‡ºç¤¼ç‰©æ ‡è¯† -->
        <!-- å·¦ä¾§ç¤¼ç‰©å † -->
        <div class="gifts-leftbottom">
            <div class="gift">ğŸ</div>
            <div class="gift">ğŸ’</div>
            <div class="gift">ğŸ‰</div>
            <div class="gift">ğŸˆ</div>
        </div>

        <!-- å³ä¾§æ°”çƒå † -->
        <div class="balloons-righttop">
            <div class="balloon">âœ¨</div>
            <div class="balloon">ğŸ‚</div>
            <div class="balloon">ğŸŠ</div>
            <div class="balloon">ğŸ¥³</div>
        </div>

        <!-- å·¦ä¾§æ°”çƒå † -->
        <div class="music-lefttop">
            <div class="music">ğŸµ</div>
            <div class="music">ğŸ¶</div>
            <div class="music">ğŸ¶</div>
            <div class="music">ğŸµ</div>
        </div>

        <!-- ç…§ç‰‡æ¡† -->
        <div class="photo-frame">
            <div class="photo-placeholder"></div>
        </div>

        <div class="birthday-person">Dear mmia</div>

        <!-- è›‹ç³•å®¹å™¨ -->
        <div class="cake-container">
            <div class="cake">
                <!-- è›‹ç³•åº•åº§ -->
                <div class="cake-base"></div>

                <!-- ç¬¬ä¸‰å±‚è›‹ç³• -->
                <div class="layer-3">
                    <div class="frosting"></div>
                    <div class="sprinkles">
                        <div class="sprinkle" style="top: 10px; left: 20px; background: #ff6b6b;"></div>
                        <div class="sprinkle" style="top: 20px; left: 60px; background: #4ecdc4;"></div>
                        <div class="sprinkle" style="top: 15px; left: 100px; background: #ffbe0b;"></div>
                        <div class="sprinkle" style="top: 25px; left: 140px; background: #9d4edd;"></div>
                        <div class="sprinkle" style="top: 10px; left: 180px; background: #45b7d1;"></div>
                        <div class="sprinkle" style="top: 20px; left: 220px; background: #ff6b6b;"></div>
                    </div>
                </div>

                <!-- ç¬¬äºŒå±‚è›‹ç³• -->
                <div class="layer-2">
                    <div class="frosting"></div>
                    <div class="sprinkles">
                        <div class="sprinkle" style="top: 10px; left: 30px; background: #ff6b6b;"></div>
                        <div class="sprinkle" style="top: 20px; left: 70px; background: #4ecdc4;"></div>
                        <div class="sprinkle" style="top: 15px; left: 110px; background: #ffbe0b;"></div>
                        <div class="sprinkle" style="top: 25px; left: 150px; background: #9d4edd;"></div>
                    </div>
                </div>

                <!-- ç¬¬ä¸€å±‚è›‹ç³• -->
                <div class="layer-1">
                    <div class="frosting"></div>
                    <div class="sprinkles">
                        <div class="sprinkle" style="top: 10px; left: 40px; background: #ff6b6b;"></div>
                        <div class="sprinkle" style="top: 20px; left: 90px; background: #4ecdc4;"></div>
                    </div>
                </div>

                <!-- è›‹ç³•å…‰æ³½æ•ˆæœ -->
                <div class="cake-shine"></div>

                <!-- èœ¡çƒ› -->
                <div class="candle">
                    <div class="flame"></div>
                </div>

                <!-- è£…é¥° -->
                <div class="decoration decoration-1"></div>
                <div class="decoration decoration-2"></div>
                <div class="decoration decoration-3"></div>
            </div>
        </div>

        <div class="message blow-message">
            è®¸ä¸ªæ„¿å§ï¼Œå¹ç­èœ¡çƒ›ï¼Œè®©ç¾å¥½çš„æ„¿æœ›æˆçœŸï¼
        </div>

        <div class="footer">
            ğŸ‡Made with sincereness & wishesğŸˆğŸˆ
        </div>
    </div>


    <div class="container">
    <div class="one">
      <h1 class="one">
        <span data-node-name="greeting">Hey</span>
        <span data-node-name="name">Lydia</span>
      </h1>
      <p class="two" data-node-name="greetingText">I really like your name btw!</p>
    </div>
    <div class="three">
      <p data-node-name="text1">It's your birthday!!! :D</p>
    </div>
    <div class="four">
      <div class="text-box">
        <p class="hbd-chatbox" data-node-name="textInChatBox">Happy birthday to you!! Yeee! Many many happy blah...</p>
        <p class="fake-btn" data-node-name="sendButtonLabel">Send</p>
      </div>
    </div>
    <div class="five">
      <p class="idea-1" data-node-name="text2">That's what I was going to do.</p>
      <p class="idea-2" data-node-name="text3">But then I stopped.</p>
      <p class="idea-3">
        <span data-node-name="text4">I realised, I wanted to do something</span>
        <strong data-node-name="text4Adjective">special</strong>.
      </p>
      <p class="idea-4" data-node-name="text5Entry">Because,</p>
      <p class="idea-5">
        <span data-node-name="text5Content">You are Special</span>
        <span class="smiley" data-node-name="smiley">:)</span>
      </p>
      <p class="idea-6">
        <span data-node-name="bigTextPart1">S</span>
        <span data-node-name="bigTextPart2">O</span>
      </p>
    </div>
    <div class="six">
      <img src="img/jing.jpg" alt="" class="lydia-dp" data-node-name="imagePath">
      <img src="img/hat.svg" alt="" class="hat">
      <div class="wish">
        <h3 class="wish-hbd" data-node-name="wishHeading">Happy Birthday!</h3>
        <h5 data-node-name="wishText">May the js.prototypes always be with you! ;)</h5>
      </div>
    </div>
    <div class="seven">
      <div class="baloons">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon3.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon2.svg" alt="">
        <img src="img/ballon1.svg" alt="">
        <img src="img/ballon3.svg" alt="">
      </div>
    </div>
    <div class="eight">
      <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="20" />
      </svg>
      <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="20" />
      </svg>
      <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="20" />
      </svg>
      <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="20" />
      </svg>
      <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="20" />
      </svg>
      <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="20" />
      </svg>
      <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="20" />
      </svg>
      <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="20" />
      </svg>
      <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="20" />
      </svg>
    </div>
    <div class="nine">
      <p data-node-name="outroText">Okay, now come back and tell me if you liked it.</p>
      <p id="replay" data-node-name="replayText">Or click, if you want to watch it again.</p>
      <p class="last-smile" data-node-name="outroSmiley">:)</p>
    </div>
    <canvas id="fireworksCanvas"></canvas>
  </div>
</body>

<script>
    // ç®€çº¦çƒŸèŠ±æ•ˆæœ
    function createFirework(x, y) {
        const colors = ['#ff6b6b', '#4ecdc4', '#ffbe0b', '#9d4edd'];
        const particleCount = 12;

        for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement('div');
            particle.className = 'firework';

            // éšæœºé€‰æ‹©é¢œè‰²
            const color = colors[Math.floor(Math.random() * colors.length)];
            particle.style.background = color;

            // è®¾ç½®åˆå§‹ä½ç½®
            particle.style.left = `${x}px`;
            particle.style.top = `${y}px`;

            // éšæœºæ–¹å‘
            const angle = (i / particleCount) * Math.PI * 2;
            const distance = 40 + Math.random() * 60;
            const tx = Math.cos(angle) * distance;
            const ty = Math.sin(angle) * distance;

            // ä½¿ç”¨CSSå˜é‡ä¼ é€’åŠ¨ç”»å‚æ•°
            particle.style.setProperty('--tx', `${tx}px`);
            particle.style.setProperty('--ty', `${ty}px`);

            // åº”ç”¨åŠ¨ç”»
            particle.style.animation = `firework-animation 1s ease-out forwards`;

            document.body.appendChild(particle);

            // åŠ¨ç”»ç»“æŸåç§»é™¤å…ƒç´ 
            setTimeout(() => {
                if (particle.parentNode) {
                    document.body.removeChild(particle);
                }
            }, 1000);
        }
    }

    // è‡ªåŠ¨åˆ›å»ºç®€çº¦èƒŒæ™¯çƒŸèŠ±
    function createAutoFirework() {
        const x = 50 + Math.random() * (window.innerWidth - 100);
        const y = 50 + Math.random() * (window.innerHeight / 2 - 100);
        createFirework(x, y);

        // éšæœºæ—¶é—´ååˆ›å»ºä¸‹ä¸€ä¸ªçƒŸèŠ±
        setTimeout(createAutoFirework, 2000 + Math.random() * 2000);
    }


    // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
    window.addEventListener('load', function() {
        // å¼€å§‹è‡ªåŠ¨åˆ›å»ºç®€çº¦çƒŸèŠ±
        createAutoFirework();

        // ç‚¹å‡»èœ¡çƒ›å¹ç­
        const candle = document.querySelector('.candle');
        const flame = document.querySelector('.flame');


        candle.addEventListener('click', function() {
            flame.style.animation = 'none';
            flame.style.opacity = '0';

            // åˆ›å»ºç®€çº¦åº†ç¥çƒŸèŠ±
            for (let i = 0; i < 7; i++) {
                setTimeout(() => {
                    createFirework(window.innerWidth / 2, window.innerHeight / 2);
                    createFirework(window.innerWidth / 4, window.innerHeight / 4);
                    createFirework(window.innerWidth * 3 / 4, window.innerHeight * 3 / 4);
                    createFirework(window.innerWidth / 4, window.innerHeight * 3 / 4);
                    createFirework(window.innerWidth * 3 / 4, window.innerHeight / 4);
                }, i * 300);
            }

            // æ˜¾ç¤ºç¥ç¦è¯­
            setTimeout(() => {
                const wishMessage = document.querySelector('.blow-message');
                wishMessage.textContent = 'æ„¿æœ›å·²æ”¶åˆ°ï¼ç¥ä½ ç¾æ¢¦æˆçœŸï¼';
                wishMessage.classList.add('wish-come-true'); // æ·»åŠ é—ªçƒæ ·å¼
            }, 2000);

            // æ˜¾ç¤ºç¤¼ç‰©å’Œæ°”çƒ
            setTimeout(() => {
                const gifts = document.querySelector('.gifts-leftbottom');
                const balloons = document.querySelector('.balloons-righttop');
                const music = document.querySelector('.music-lefttop');

                if (gifts && balloons) {
                    gifts.classList.add('show-gifts');
                    balloons.classList.add('show-gifts');
                    music.classList.add('show-gifts');

                    // ä¸ºæ¯ä¸ªç¤¼ç‰©å’Œæ°”çƒæ·»åŠ éšæœºå»¶è¿ŸåŠ¨ç”»
                    document.querySelectorAll('.gift').forEach((gift, i) => {
                        gift.style.animationDelay = `${i * 0.2}s`;
                    });

                    document.querySelectorAll('.balloon').forEach((balloon, i) => {
                        balloon.style.animationDelay = `${i * 0.3}s`;
                    });

                    document.querySelectorAll('.music').forEach((music, i) => {
                        music.style.animationDelay = `${i * 0.3}s`;
                    });
                }
            }, 1500); // æ¯”ç¥ç¦è¯­ç¨æ—©å‡ºç°
        });

        // ç‚¹å‡»é¡µé¢ä»»æ„ä½ç½®åˆ›å»ºç®€çº¦çƒŸèŠ±
        document.body.addEventListener('click', function(e) {
            if (e.target.id !== 'music-toggle' && e.target.id !== 'start-button') {
                createFirework(e.clientX, e.clientY);
            }
        });

        // æ·»åŠ ä¸€äº›ç³–éœœ
        const addSprinkle = () => {
            const layers = document.querySelectorAll('.layer-1, .layer-2, .layer-3');
            layers.forEach(layer => {
                const sprinkle = document.createElement('div');
                sprinkle.className = 'sprinkle';
                sprinkle.style.top = Math.random() * 30 + 'px';
                sprinkle.style.left = Math.random() * 250 + 'px';

                const colors = ['#ff6b6b', '#4ecdc4', '#ffbe0b', '#9d4edd', '#45b7d1'];
                sprinkle.style.background = colors[Math.floor(Math.random() * colors.length)];

                layer.querySelector('.sprinkles').appendChild(sprinkle);
            });
        };

        // æ¯5ç§’æ·»åŠ ä¸€äº›ç³–éœœ
        setInterval(addSprinkle, 2000);
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js"></script>
<script type="application/javascript" src="script/main.js"></script>
<script type="application/javascript" src="script/firework.js"></script>
</html>